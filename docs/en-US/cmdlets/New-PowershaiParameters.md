---
external help file: powershai-help.xml
schema: 2.0.0
powershai: true
---

# New-PowershaiParameters

## SYNOPSIS <!--!= @#Synop !-->
Creates a new object representing the parameters of a PowershaiChat

## DESCRIPTION <!--!= @#Desc !-->
Creates a default object containing all possible parameters that can be used in the chat!
The user can use a get-help New-PowershaiParameters to get the parameter documentation.

## SYNTAX <!--!= @#Syntax !-->

```
New-PowershaiParameters [[-stream] <Object>] [[-Json] <Boolean>] [[-model] <String>] [[-MaxTokens] <Int32>] [[-ShowFullSend] <Boolean>] [[-ShowTokenStats] <Object>] 
[[-MaxInteractions] <Object>] [[-MaxSeqErrors] <Object>] [[-MaxContextSize] <Object>] [[-ContextFormatterFunc] <Object>] [[-ContextFormatterParams] <Object>] [[-ShowArgs] <Object>] 
[[-PrintToolsResults] <Object>] [[-SystemMessageFixed] <Object>] [[-RawParams] <Object>] [[-PromptBuilder] <Object>] [[-PrintToolCalls] <Object>] [<CommonParameters>]
```

## PARAMETERS <!--!= @#Params !-->

### -stream
When true, uses stream mode, that is, messages are displayed as the model produces them

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 1
Default Value: True
Accept pipeline input: false
Accept wildcard characters: false
```

### -Json
Enables JSON mode. In this mode, the model is forced to return a JSON response. 
When activated, messages generated via stream are not displayed as they are produced, and only the final result is returned.

```yml
Parameter Set: (All)
Type: Boolean
Aliases: 
Accepted Values: 
Required: false
Position: 2
Default Value: False
Accept pipeline input: false
Accept wildcard characters: false
```

### -model
Name of the model to be used
If null, uses the model defined with Set-AiDefaultModel

```yml
Parameter Set: (All)
Type: String
Aliases: 
Accepted Values: 
Required: false
Position: 3
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -MaxTokens
Maximum number of tokens to be returned by the model

```yml
Parameter Set: (All)
Type: Int32
Aliases: 
Accepted Values: 
Required: false
Position: 4
Default Value: 2048
Accept pipeline input: false
Accept wildcard characters: false
```

### -ShowFullSend
Prints the entire prompt being sent to the LLM

```yml
Parameter Set: (All)
Type: Boolean
Aliases: 
Accepted Values: 
Required: false
Position: 5
Default Value: False
Accept pipeline input: false
Accept wildcard characters: false
```

### -ShowTokenStats
At the end of each message, displays the consumption statistics, in tokens, returned by the API

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 6
Default Value: False
Accept pipeline input: false
Accept wildcard characters: false
```

### -MaxInteractions
Maximum number of interactions to be performed at once
Each time a message is sent, the model runs 1 iteration (sends the message and receives a response).
If the model requests a function call, the generated response will be sent back to the model. This counts as another interaction.
This parameter controls the maximum number of interactions that can exist in each call.
This helps prevent unexpected infinite loops.

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 7
Default Value: 50
Accept pipeline input: false
Accept wildcard characters: false
```

### -MaxSeqErrors
Maximum number of consecutive errors generated by Tool Calling.
When using tool calling, this parameter limits how many consecutive tools that resulted in an error can be called.
The error considered is the exception thrown by the configured script or command.

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 8
Default Value: 5
Accept pipeline input: false
Accept wildcard characters: false
```

### -MaxContextSize
Maximum context size, in characters
In the future, it will be in tokens
Controls the number of messages in the current chat context. When this number is exceeded, Powershai automatically clears the oldest messages.

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 9
Default Value: 8192
Accept pipeline input: false
Accept wildcard characters: false
```

### -ContextFormatterFunc
Function used to format objects passed via pipeline

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 10
Default Value: ConvertTo-PowershaiContextOutString
Accept pipeline input: false
Accept wildcard characters: false
```

### -ContextFormatterParams
Arguments to be passed to the ContextFormatterFunc

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 11
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -ShowArgs
If true, displays the function arguments when Tool Calling is activated to execute a function
DEPRECATED. Will be removed soon. Use -PrintToolCalls

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 12
Default Value: True
Accept pipeline input: false
Accept wildcard characters: false
```

### -PrintToolsResults
Displays the results of the tools when they are executed by PowershAI in response to the model's tool calling

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 13
Default Value: False
Accept pipeline input: false
Accept wildcard characters: false
```

### -SystemMessageFixed
System Message that is guaranteed to always be sent, regardless of chat history and cleanup!

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 14
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -RawParams
Parameters to be passed directly to the API that invokes the model.
The provider must implement support for this.
To use it you must know the implementation details of the provider and how its API works!

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 15
Default Value: @{}
Accept pipeline input: false
Accept wildcard characters: false
```

### -PromptBuilder
Controls the template used when injecting context data!
This parameter is a scriptblock that must return a string with the context to be injected into the prompt!
The scriptblock parameters are:

FormattedObject

- The object with the context data (sent via pipe), already formatted with the configured Formatter
CmdParams

- The parameters passed to Send-PowershaAIChat. It is the same object returned by GetMyParams
Chat

- The chat to which the data is being sent.
If null, it will generate a default. Check the Send-PowershaiChat cmdlet for details

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 16
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -PrintToolCalls
Controls how Tool Calls are displayed by the Send-PowershaiChat command
Possible values:

No

- does not display anything related to tool calls.
NameOnly

- Displays only the name in the format FunctionaName{...}, on its own line.
NameArgs

- Displays the name and arguments!

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 17
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```


<!--PowershaiAiDocBlockStart-->
_Automatically translated using PowershAI and AI
_
<!--PowershaiAiDocBlockEnd-->
