---
external help file: powershai-help.xml
schema: 2.0.0
powershai: true
---

# Send-GradioApi

## SYNOPSIS <!--!= @#Synop !-->

## DESCRIPTION <!--!= @#Desc !-->
Sends data to a Gradio and returns an object that represents the event!  
Pass this object to the other cmdlets to obtain the results.

HOW THE GRADIO API WORKS

    Based on: https://www.gradio.app/guides/querying-gradio-apps-with-curl
    
    To better understand how to use this cmdlet, it is important to understand how the Gradio API works.  
    When we invoke an API endpoint, it does not return the data immediately.  
    This is simply due to the extensive processing involved, due to the nature (AI and Machine Learning).  
    
    So, instead of returning the result, or waiting indefinitely, Gradio returns an "Event Id".  
    With this event, we can periodically obtain the generated results.  
    Gradio will generate event messages with the data that has been generated. We need to pass the generated EventId to get the new pieces generated.  
    These events are sent via Server Side Events (SSE), and can be one of the following:
        - heartbeat 
        Every 15 seconds, Gradio will send this event to keep the connection alive.  
        This is why, when using the Update-GradioApiResult cmdlet, it may take a while to return.
        
        - complete 
        It is the last message sent by Gradio when the data has been successfully generated!
        
        - error 
        Sent when there was an error in processing.  
        
        - generating
        It is generated when the API already has data available, but more may still come.
    
    Here in PowershAI, we also separate this into 3 parts: 
        - This cmdlet (Send-GradioApi) makes the initial request to Gradio and returns an object that represents the event (we call it a GradioApiEvent object)
        - This resulting object, of type GradioApiEvent, contains everything necessary to query the event and also holds the data and errors obtained.
        - Finally, we have the Update-GradioApiResult cmdlet, where you should pass the generated event, and it will query the Gradio API and obtain the new data.  
            Check the help of this cmdlet for more information on how to control this mechanism for obtaining data.
            
    
    So, in a normal flow, you should do the following: 
    
        # Invoke the Gradio endpoint!
        $MyEvent = Send-GradioApi ... 
    
        # Obtain results until it's finished!
        # Check the help of this cmdlet to learn more!
        $MyEvent | Update-GradioApiResult
        
GradioApiEvent Object

    The GradioApiEvent object resulting from this cmdlet contains everything necessary for PowershAI to control the mechanism and obtain the data.  
    It is important that you know its structure so that you understand how to collect the data generated by the API.
    Properties:
    
        - Status  
        Indicates the status of the event. 
        When this status is "complete", it means that the API has finished processing and all possible data has been generated.  
        While it is different from this, you should invoke Update-GradioApiResult to check the status and update the information. 
        
        - QueryUrl  
        Internal value that contains the exact endpoint for querying results.
        
        - data  
        An array containing all the response data generated. Each time you invoke Update-GradioApiResult, if there is data, it will be added to this array.  
        
        - events  
        List of events that have been generated by the server. 
        
        - error  
        If there were errors in the response, this field will contain some object, string, etc., describing more details.
        
        - LastQueryStatus  
        Indicates the status of the last query to the API.  
        If "normal", it indicates that the API was queried and returned to the end normally.
        If "HeartBeatExpired", it indicates that the query was interrupted due to the heartbeat timeout configured by the user in the Update-GradioApiResult cmdlet.
        
        - req 
        Data from the request made!

## SYNTAX <!--!= @#Syntax !-->

```
Send-GradioApi [[-AppUrl] <Object>] [[-ApiName] <Object>] [[-Params] <Object>] [[-SessionHash] <Object>] [[-EventId] <Object>] 
[[-token] <Object>] [<CommonParameters>]
```

## PARAMETERS <!--!= @#Params !-->

### -AppUrl

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 1
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -ApiName

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 2
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -Params

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 3
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -SessionHash

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 4
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -EventId
If provided, does not call the API, but creates the object and uses this value as if it were the return.

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 5
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```

### -token

```yml
Parameter Set: (All)
Type: Object
Aliases: 
Accepted Values: 
Required: false
Position: 6
Default Value: 
Accept pipeline input: false
Accept wildcard characters: false
```


<!--PowershaiAiDocBlockStart-->
_Automatically translated using PowershAI and AI._
<!--PowershaiAiDocBlockEnd-->
